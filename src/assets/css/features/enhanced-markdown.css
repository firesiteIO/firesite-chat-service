/* Enhanced Markdown Rendering */
/* High specificity styles for proper markdown rendering in chat messages */

/* Enhanced message text styling for better markdown rendering */
#app .chat-messages .message-content .message-text,
#app .chat-messages .message-content,
#app .chat-messages .raw-text,
.chat-messages .message-content .message-text,
.chat-messages .message-content,
.chat-messages .raw-text {
  line-height: 1.6 !important;
  font-size: 0.95rem !important;
  color: var(--text-primary) !important;
}

/* High specificity paragraph styling */
#app .chat-messages .message-content p,
.chat-messages .message-content p,
.message-text p {
  margin-bottom: 0.8rem !important;
}

#app .chat-messages .message-content p:last-child,
.chat-messages .message-content p:last-child,
.message-text p:last-child {
  margin-bottom: 0 !important;
}

/* Enhanced header styling with high specificity */
#app .chat-messages .message-content h1, #app .chat-messages .message-content h2, #app .chat-messages .message-content h3,
#app .chat-messages .message-content h4, #app .chat-messages .message-content h5, #app .chat-messages .message-content h6,
.chat-messages .message-content h1, .chat-messages .message-content h2, .chat-messages .message-content h3,
.chat-messages .message-content h4, .chat-messages .message-content h5, .chat-messages .message-content h6,
.message-text h1, .message-text h2, .message-text h3, 
.message-text h4, .message-text h5, .message-text h6 {
  margin-top: 1.2rem !important;
  margin-bottom: 0.8rem !important;
  font-weight: 600 !important;
  line-height: 1.3 !important;
  color: var(--text-primary) !important;
}

.message-text h1 { 
  font-size: 1.5rem !important; 
}

.message-text h2 { 
  font-size: 1.3rem !important; 
}

.message-text h3 { 
  font-size: 1.1rem !important; 
}

.message-text h4 { 
  font-size: 1rem !important; 
}

/* Enhanced code block styling with high specificity */
#app .chat-messages .message-content pre,
.chat-messages .message-content pre,
.message-text pre {
  background-color: #1e1e1e !important;
  color: #d4d4d4 !important;
  padding: 1rem !important;
  border-radius: 0.5rem !important;
  overflow-x: auto !important;
  margin: 1rem 0 !important;
  position: relative !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;
  border: 1px solid #333 !important;
}

#app .chat-messages .message-content pre code,
.chat-messages .message-content pre code,
.message-text pre code {
  display: block !important;
  max-width: 100% !important;
  overflow-x: auto !important;
  font-family: var(--font-mono) !important;
  font-size: 0.875rem !important;
  line-height: 1.5 !important;
  background: none !important;
  border: none !important;
  padding: 0 !important;
}

/* Inline code styling */
.message-text code:not(pre code) {
  background-color: var(--bg-primary);
  padding: 0.2rem 0.4rem;
  border-radius: 0.25rem;
  font-size: 0.875rem;
  color: var(--primary-color);
  font-family: var(--font-mono);
}

/* Assistant message content styling */
.assistant .message-content h1,
.assistant .message-content h2,
.assistant .message-content h3,
.assistant .message-content h4,
.assistant .message-content h5,
.assistant .message-content h6 {
  margin: 0.75rem 0 0.5rem 0;
}

.assistant .message-content h1:first-child,
.assistant .message-content h2:first-child,
.assistant .message-content h3:first-child,
.assistant .message-content h4:first-child,
.assistant .message-content h5:first-child,
.assistant .message-content h6:first-child {
  margin-top: 0;
}

.assistant .message-content ul,
.assistant .message-content ol {
  margin: 0.5rem 0;
  padding-left: 1.5rem;
}

.assistant .message-content li {
  margin: 0.25rem 0;
}

.assistant .message-content p {
  margin: 0.5rem 0;
}

.assistant .message-content p:last-child {
  margin-bottom: 0;
}

.assistant .message-content pre {
  position: relative;
  background-color: var(--bg-primary);
  border: 1px solid var(--border-color);
  border-radius: 0.375rem;
  padding: 0.75rem;
  margin: 0.5rem 0;
  overflow-x: auto;
  max-width: 100%;
  white-space: pre-wrap;
  word-wrap: break-word;
}

.assistant .message-content code {
  font-family: var(--font-mono);
  font-size: 0.875rem;
}

.assistant .message-content :not(pre) > code {
  background-color: var(--bg-primary);
  padding: 0.125rem 0.25rem;
  border-radius: 0.25rem;
}